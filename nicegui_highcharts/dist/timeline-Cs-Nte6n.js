import{g as t}from"./index-B1MHyEgd.js";function e(t,e){return e.forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(i){if("default"!==i&&!(i in t)){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}})}),Object.freeze(t)}var i,s={exports:{}};var n,r=i?s.exports:(i=1,n="undefined"==typeof window?s.exports:window,s.exports=((t,e,i)=>(()=>{var s={260:t=>{t.exports=i},512:t=>{t.exports=e},944:e=>{e.exports=t}},n={};function r(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={exports:{}};return s[t](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};r.d(o,{default:()=>T});var a=r(944),l=r.n(a),h=r(512),p=r.n(h),d=r(260),c=r.n(d);let{line:{prototype:{pointClass:u}},pie:{prototype:{pointClass:y}}}=p().seriesTypes,{defined:x,isNumber:b,merge:f,objectEach:g,pick:m}=l(),{column:v,line:w}=p().seriesTypes,{addEvent:L,arrayMax:O,arrayMin:P,defined:A,extend:C,merge:k,pick:I}=l();class M extends w{alignDataLabel(t,e,i,s){let n,r,o,a=this.chart.inverted,l=this.visibilityMap.filter(t=>!!t),h=this.visiblePointsCount||0,p=l.indexOf(t),d=this.options.dataLabels,c=t.userDLOptions||{},u=d.alternate?p&&p!==h-1?2:1.5:1,y=Math.floor(this.xAxis.len/h),x=e.padding;t.visible&&(n=Math.abs(c.x||t.options.dataLabels.x),a?(r=2*(n-x)-(t.itemHeight||0)/2,o={width:I(d.style?.width,.4*this.yAxis.len+"px"),textOverflow:(e.width||0)/r*(e.height||0)/2>y*u?"ellipsis":"none"}):o={width:(c.width||d.width||y*u-2*x)+"px"},e.css(o),this.chart.styledMode||e.shadow(d.shadow)),super.alignDataLabel.apply(this,arguments)}bindAxes(){super.bindAxes(),this.xAxis.userOptions.type||(this.xAxis.categories=this.xAxis.hasNames=!0)}distributeDL(){let t=this.options.dataLabels,e=this.chart.inverted,i=1;if(t){let s=I(t.distance,e?20:100);for(let n of this.points){let r={[e?"x":"y"]:t.alternate&&i%2?-s:s};e&&(r.align=t.alternate&&i%2?"right":"left"),n.options.dataLabels=k(r,n.userDLOptions),i++}}}generatePoints(){super.generatePoints();let t=this.points,e=t.length,i=this.getColumn("x");for(let s=0;s<e;++s){let e=i[s];t[s].applyOptions({x:e},e)}}getVisibilityMap(){let t=this.options.nullInteraction;return((this.data.length?this.data:this.options.data)||[]).map(e=>!!e&&!1!==e.visible&&(!e.isNull||!!t)&&e)}getXExtremes(t){let e=this,i=t.filter((t,i)=>e.points[i].isValid()&&e.points[i].visible);return{min:P(i),max:O(i)}}init(){let t=this;super.init.apply(t,arguments),t.eventsToUnbind.push(L(t,"afterTranslate",function(){let e,i=Number.MAX_VALUE;for(let s of t.points)s.isInside=s.isInside&&s.visible,s.visible&&(!s.isNull||t.options.nullInteraction)&&(A(e)&&(i=Math.min(i,Math.abs(s.plotX-e))),e=s.plotX);t.closestPointRangePx=i})),t.eventsToUnbind.push(L(t,"drawDataLabels",function(){t.distributeDL()})),t.eventsToUnbind.push(L(t,"afterDrawDataLabels",function(){let e;for(let i of t.points)(e=i.dataLabel)&&(e.animate=function(t){return this.targetPosition&&(this.targetPosition=t),this.renderer.Element.prototype.animate.apply(this,arguments)},e.targetPosition||(e.targetPosition={}),i.drawConnector())})),t.eventsToUnbind.push(L(t.chart,"afterHideOverlappingLabel",function(){for(let e of t.points)e.dataLabel&&e.dataLabel.connector&&e.dataLabel.oldOpacity!==e.dataLabel.newOpacity&&e.alignConnector()}))}markerAttribs(t,e){let i,s=this.options.marker,n=t.marker||{},r=n.symbol||s.symbol,o=I(n.width,s.width,this.closestPointRangePx),a=I(n.height,s.height),l=0;if(this.xAxis.dateTime)return super.markerAttribs(t,e);e&&(i=s.states[e]||{},l=I((n.states&&n.states[e]||{}).radius,i.radius,l+(i.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url");let h={x:Math.floor(t.plotX)-o/2-l/2,y:t.plotY-a/2-l/2,width:o+l,height:a+l};return this.chart.inverted?{y:h.x&&h.width&&this.xAxis.len-h.x-h.width,x:h.y&&h.y,width:h.height,height:h.width}:h}}M.defaultOptions=k(w.defaultOptions,{colorByPoint:!0,stickyTracking:!1,ignoreHiddenPoint:!0,legendType:"point",lineWidth:4,tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {point.key}</span><br/>',pointFormat:"{point.description}"},states:{hover:{lineWidthPlus:0}},dataLabels:{enabled:!0,allowOverlap:!0,alternate:!0,backgroundColor:"#ffffff",borderWidth:1,borderColor:"#999999",borderRadius:3,color:"#333333",connectorWidth:1,distance:void 0,formatter:function(){return(this.series.chart.styledMode?'<span class="highcharts-color-'+this.point.colorIndex+'">● </span>':'<span style="color:'+this.point.color+'">● </span>')+'<span class="highcharts-strong">'+(this.key||"")+"</span><br/>"+(this.label||"")},style:{textOutline:"none",fontWeight:"normal",fontSize:"0.8em",textAlign:"left"},shadow:!1,verticalAlign:"middle"},marker:{enabledThreshold:0,symbol:"square",radius:6,lineWidth:2,height:15},showInLegend:!1,colorKey:"x",legendSymbol:"rectangle"}),L(M,"afterProcessData",function(){let t=this.getColumn("x"),e=0;for(let t of(this.visibilityMap=this.getVisibilityMap(),this.visibilityMap))t&&e++;this.visiblePointsCount=e,this.dataTable.setColumn("y",Array(t.length).fill(1))}),C(M.prototype,{drawTracker:v.prototype.drawTracker,pointClass:class extends u{alignConnector(){let t=this.series,e=this.dataLabel,i=e.connector,s=e.options||{},n=s.connectorWidth||0,r=this.series.chart,o=i.getBBox(),a={x:o.x+(e.translateX||0),y:o.y+(e.translateY||0)};r.inverted?a.y-=n/2:a.x+=n/2,i[r.isInsidePlot(a.x,a.y)?"animate":"attr"]({d:this.getConnectorPath()}),i.addClass("highcharts-color-"+this.colorIndex),t.chart.styledMode||i.attr({stroke:s.connectorColor||this.color,"stroke-width":s.connectorWidth,opacity:e[x(e.newOpacity)?"newOpacity":"opacity"]})}drawConnector(){let{dataLabel:t,series:e}=this;t&&(t.connector||(t.connector=e.chart.renderer.path(this.getConnectorPath()).attr({zIndex:-1}).add(t)),this.series.chart.isInsidePlot(t.x||0,t.y||0)&&this.alignConnector())}getConnectorPath(){let{plotX:t=0,plotY:e=0,series:i,dataLabel:s}=this,n=i.chart,r=i.xAxis.len,o=n.inverted,a=o?"x2":"y2";if(s){let l=s.targetPosition,h=(s.alignAttr||s)[a[0]]<i.yAxis.len/2,p={x1:t,y1:e,x2:t,y2:b(l.y)?l.y:s.y};return o&&(p={x1:e,y1:r-t,x2:l.x||s.x,y2:r-t}),h&&(p[a]+=s[o?"width":"height"]||0),g(p,(t,e)=>{p[e]-=(s.alignAttr||s)[e[0]]}),n.renderer.crispLine([["M",p.x1,p.y1],["L",p.x2,p.y2]],s.options?.connectorWidth||0)}return[]}constructor(t,e){super(t,e),this.name??(this.name=e&&null!==e.y||!t.options.nullInteraction?"Event":"Null"),this.y=1}isValid(){return null!==this.options.y||this.series.options.nullInteraction||!0}setState(){let t=super.setState;(!this.isNull||this.series.options.nullInteraction)&&t.apply(this,arguments)}setVisible(t,e){let i=this.series;e=m(e,i.options.ignoreHiddenPoint),y.prototype.setVisible.call(this,t,!1),i.processData(),e&&i.chart.redraw()}applyOptions(t,e){let i=this.isNull||null===t||null===t.y,s=this.series;e||t?.x||(b(this.x)?e=this.x:b(s?.xIncrement)&&(e=s.xIncrement||0,s.autoIncrement())),t=c().prototype.optionsToObject.call(this,t??(s.options.nullInteraction&&{y:0}||null));let n=super.applyOptions(t,e);return this.userDLOptions=f(this.userDLOptions,t.dataLabels),n.isNull=i,n}},trackerGroups:["markerGroup","dataLabelsGroup"]}),p().registerSeriesType("timeline",M);let T=l();return o.default})())(n._Highcharts,n._Highcharts.SeriesRegistry,n._Highcharts.Point)),o=e({__proto__:null,default:t(r)},[r]);export{o as t};
//# sourceMappingURL=timeline-Cs-Nte6n.js.map
