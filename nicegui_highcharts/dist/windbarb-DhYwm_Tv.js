import{g as t}from"./index-B1MHyEgd.js";function e(t,e){return e.forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if("default"!==r&&!(r in t)){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(t)}var r,o={exports:{}};var i,s=r?o.exports:(r=1,i="undefined"==typeof window?o.exports:window,o.exports=((t,e,r,o,i)=>(()=>{var s,n={448:t=>{t.exports=r},512:t=>{t.exports=i},820:t=>{t.exports=o},944:e=>{e.exports=t},956:t=>{t.exports=e}},a={};function l(t){var e=a[t];if(void 0!==e)return e.exports;var r=a[t]={exports:{}};return n[t](r,r.exports,l),r.exports}l.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return l.d(e,{a:e}),e},l.d=(t,e)=>{for(var r in e)l.o(e,r)&&!l.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var p={};l.d(p,{default:()=>W});var h=l(944),u=l.n(h),c=l(956),d=l.n(c),f=l(448),g=l.n(f),x=l(820),b=l.n(x);let{composed:y}=u(),{prototype:v}=g(),{prototype:m}=b(),{defined:w,pushUnique:L,stableSort:O}=u();!function(t){function e(t){return m.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,t)}function r(){v.translate.apply(this);let t,e,r,o,i,s,n,a=this,l=a.options,p=a.chart,h=a.points,u=l.onSeries,c=u&&p.get(u),d=c&&c.options.step,f=c&&c.points,g=p.inverted,x=a.xAxis,b=a.yAxis,y=h.length-1,m=l.onKey||"y",L=f&&f.length,k=0;if(c&&c.visible&&L)for(k=(c.pointXOffset||0)+(c.barW||0)/2,s=c.currentDataGrouping,o=f[L-1].x+(s?s.totalRange:0),O(h,(t,e)=>t.x-e.x),m="plot"+m[0].toUpperCase()+m.substr(1);L--&&h[y];)if(r=f[L],(t=h[y]).y=r.y,r.x<=t.x&&void 0!==r[m]){if(t.x<=o&&(t.plotY=r[m],r.x<t.x&&!d&&(i=f[L+1]))&&void 0!==i[m])if(w(t.plotX)&&c.is("spline")){let e,o=[r.plotX||0,r.plotY||0],s=[i.plotX||0,i.plotY||0],n=r.controlPoints?.high||o,a=i.controlPoints?.low||s,l=(t,e)=>Math.pow(1-t,3)*o[e]+3*(1-t)*(1-t)*t*n[e]+3*(1-t)*t*t*a[e]+t*t*t*s[e],p=0,h=1;for(let r=0;r<100;r++){let r=(p+h)/2,o=l(r,0);if(null===o)break;if(.25>Math.abs(o-t.plotX)){e=r;break}o<t.plotX?p=r:h=r}w(e)&&(t.plotY=l(e,1),t.y=b.toValue(t.plotY,!0))}else n=(t.x-r.x)/(i.x-r.x),t.plotY+=n*(i[m]-r[m]),t.y+=n*(i.y-r.y);if(y--,L++,y<0)break}h.forEach((t,r)=>{let o;t.plotX+=k,(void 0===t.plotY||g)&&(t.plotX>=0&&t.plotX<=x.len?g?(t.plotY=x.translate(t.x,0,1,0,1),t.plotX=w(t.y)?b.translate(t.y,0,0,0,1):0):t.plotY=(x.opposite?0:a.yAxis.len)+x.offset:t.shapeArgs={}),(e=h[r-1])&&e.plotX===t.plotX&&(void 0===e.stackIndex&&(e.stackIndex=0),o=e.stackIndex+1),t.stackIndex=o}),this.onSeries=c}t.compose=function(t){if(L(y,"OnSeries")){let o=t.prototype;o.getPlotBox=e,o.translate=r}return t},t.getPlotBox=e,t.translate=r}(s||(s={}));let k=s;var S=l(512),X=l.n(S);let{isNumber:P}=u();class A extends g().prototype.pointClass{isValid(){return P(this.value)&&this.value>=0}}let{animObject:M}=u(),{column:Y}=X().seriesTypes,{extend:_,merge:G,pick:j}=u();class I extends Y{init(t,e){super.init(t,e)}pointAttribs(t,e){let r=this.options,o=t.color||this.color,i=this.options.lineWidth;return e&&(o=r.states[e].color||o,i=(r.states[e].lineWidth||i)+(r.states[e].lineWidthPlus||0)),{stroke:o,"stroke-width":i}}windArrow(t){let e,r=t.beaufortLevel,o=this.options.vectorLength/20,i=1.943844*t.value,s=-10;if(t.isNull)return[];if(0===r)return this.chart.renderer.symbols.circle(-10*o,-10*o,20*o,20*o);let n=[["M",0,7*o],["L",-1.5*o,7*o],["L",0,10*o],["L",1.5*o,7*o],["L",0,7*o],["L",0,-10*o]];if((e=(i-i%50)/50)>0)for(;e--;)n.push(-10===s?["L",0,s*o]:["M",0,s*o],["L",5*o,s*o+2],["L",0,s*o+4]),i-=50,s+=7;if((e=(i-i%10)/10)>0)for(;e--;)n.push(-10===s?["L",0,s*o]:["M",0,s*o],["L",7*o,s*o]),i-=10,s+=3;if((e=(i-i%5)/5)>0)for(;e--;)n.push(-10===s?["L",0,s*o]:["M",0,s*o],["L",4*o,s*o]),i-=5,s+=3;return n}drawPoints(){let t=this.chart,e=this.yAxis,r=t.inverted,o=this.options.vectorLength/2;for(let i of this.points){let s=i.plotX,n=i.plotY;!1===this.options.clip||t.isInsidePlot(s,0)?(i.graphic||(i.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+j(i.colorIndex,i.series.colorIndex))),i.graphic.attr({d:this.windArrow(i),translateX:s+this.options.xOffset,translateY:n+this.options.yOffset,rotation:i.direction}),this.chart.styledMode||i.graphic.attr(this.pointAttribs(i))):i.graphic&&(i.graphic=i.graphic.destroy()),i.tooltipPos=[s+this.options.xOffset+(r&&!this.onSeries?o:0),n+this.options.yOffset-(r?0:o+e.pos-t.plotTop)]}}animate(t){t?this.markerGroup.attr({opacity:.01}):this.markerGroup.animate({opacity:1},M(this.options.animation))}markerAttribs(){return{}}getExtremes(){return{}}shouldShowTooltip(t,e,r={}){return r.ignoreX=this.chart.inverted,r.ignoreY=!r.ignoreX,super.shouldShowTooltip(t,e,r)}}I.defaultOptions=G(Y.defaultOptions,{dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0}),k.compose(I),_(I.prototype,{beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],beaufortName:["Calm","Light air","Light breeze","Gentle breeze","Moderate breeze","Fresh breeze","Strong breeze","Near gale","Gale","Strong gale","Storm","Violent storm","Hurricane"],invertible:!1,parallelArrays:["x","value","direction"],pointArrayMap:["value","direction"],pointClass:A,trackerGroups:["markerGroup"],translate:function(){let t=this.beaufortFloor,e=this.beaufortName;for(let r of(k.translate.call(this),this.points)){let o=0;for(;o<t.length&&!(t[o]>r.value);o++);r.beaufortLevel=o-1,r.beaufort=e[o-1]}}}),X().registerSeriesType("windbarb",I),d().windbarb||(d().windbarb=(t,e)=>{let r=0,o=0;for(let i=0,s=t.length;i<s;i++)r+=t[i]*Math.cos(e[i]*u().deg2rad),o+=t[i]*Math.sin(e[i]*u().deg2rad);return[t.reduce((t,e)=>t+e,0)/t.length,Math.atan2(o,r)/u().deg2rad]});let W=u();return p.default})())(i._Highcharts,i._Highcharts.dataGrouping.approximations,i._Highcharts.Series.types.column,i._Highcharts.Series,i._Highcharts.SeriesRegistry)),n=e({__proto__:null,default:t(s)},[s]);export{n as w};
//# sourceMappingURL=windbarb-DhYwm_Tv.js.map
