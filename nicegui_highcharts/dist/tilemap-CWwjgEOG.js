import{g as t}from"./index-B1MHyEgd.js";function e(t,e){return e.forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(i){if("default"!==i&&!(i in t)){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}})}),Object.freeze(t)}var i,o={exports:{}};var s,a=i?o.exports:(i=1,s="undefined"==typeof window?o.exports:window,o.exports=((t,e,i)=>(()=>{var o,s={512:t=>{t.exports=e},620:t=>{t.exports=i},944:e=>{e.exports=t}},a={};function n(t){var e=a[t];if(void 0!==e)return e.exports;var i=a[t]={exports:{}};return s[t](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};n.d(r,{default:()=>H});var l=n(944),p=n.n(l),h=n(512),d=n.n(h),c=n(620);let{parse:u}=n.n(c)(),{addEvent:x,extend:f,merge:g,pick:y,splat:b}=p();!function(t){let e;function i(){let{userOptions:t}=this;this.colorAxis=[],t.colorAxis&&(t.colorAxis=b(t.colorAxis),t.colorAxis.map(t=>new e(this,t)))}function o(t){let e,i,o=this.chart.colorAxis||[],s=e=>{let i=t.allItems.indexOf(e);-1!==i&&(this.destroyItem(t.allItems[i]),t.allItems.splice(i,1))},a=[];for(o.forEach(function(t){e=t.options,e?.showInLegend&&(e.dataClasses&&e.visible?a=a.concat(t.getDataClassLegendSymbols()):e.visible&&a.push(t),t.series.forEach(function(t){(!t.options.showInLegend||e.dataClasses)&&("point"===t.options.legendType?t.points.forEach(function(t){s(t)}):s(t))}))}),i=a.length;i--;)t.allItems.unshift(a[i])}function s(t){t.visible&&t.item.legendColor&&t.item.legendItem.symbol.attr({fill:t.item.legendColor})}function a(t){this.chart.colorAxis?.forEach(e=>{e.update({},t.redraw)})}function n(){(this.chart.colorAxis?.length||this.colorAttribs)&&this.translateColors()}function r(){let t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function l(t){let e=this,i=t?"show":"hide";e.visible=e.options.visible=!!t,["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][i]()}),this.series.buildKDTree()}function p(){let t=this,e=this.getPointsCollection(),i=this.options.nullColor,o=this.colorAxis,s=this.colorKey;e.forEach(e=>{let a=e.getNestedProperty(s),n=e.options.color||(e.isNull||null===e.value?i:o&&void 0!==a?o.toColor(a,e):e.color||t.color);n&&e.color!==n&&(e.color=n,"point"===t.options.legendType&&e.legendItem&&e.legendItem.label&&t.chart.legend.colorizeItem(e,e.visible))})}function h(){this.elem.attr("fill",u(this.start).tweenTo(u(this.end),this.pos),void 0,!0)}function d(){this.elem.attr("stroke",u(this.start).tweenTo(u(this.end),this.pos),void 0,!0)}t.compose=function(t,c,u,b,m){let A=c.prototype,P=u.prototype,M=m.prototype;A.collectionsWithUpdate.includes("colorAxis")||(e=t,A.collectionsWithUpdate.push("colorAxis"),A.collectionsWithInit.colorAxis=[A.addColorAxis],x(c,"afterCreateAxes",i),function(t){let i=t.prototype.createAxis;t.prototype.createAxis=function(t,o){if("colorAxis"!==t)return i.apply(this,arguments);let s=new e(this,g(o.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(t=>{t.series=[]}),this.series.forEach(t=>{t.bindAxes(),t.isDirtyData=!0}),y(o.redraw,!0)&&this.redraw(o.animation),s}}(c),P.fillSetter=h,P.strokeSetter=d,x(b,"afterGetAllItems",o),x(b,"afterColorizeItem",s),x(b,"afterUpdate",a),f(M,{optionalAxis:"colorAxis",translateColors:p}),f(M.pointClass.prototype,{setVisible:l}),x(m,"afterTranslate",n,{order:1}),x(m,"bindAxes",r))},t.pointSetVisible=l}(o||(o={}));let m=o,{series:{prototype:{pointClass:A}},seriesTypes:{heatmap:{prototype:{pointClass:P}}}}=d(),{extend:M}=p();class L extends P{haloPath(){return this.series.tileShape.haloPath.apply(this,arguments)}}M(L.prototype,{setState:A.prototype.setState,setVisible:m.pointSetVisible});let{noop:v}=p(),{heatmap:S,scatter:C}=d().seriesTypes,{clamp:w,pick:T}=p();function D(t,e,i){let o=t.options;return{xPad:-(o.colsize||1)/e,yPad:-(o.rowsize||1)/i}}let E={hexagon:{alignDataLabel:C.prototype.alignDataLabel,getSeriesPadding:function(t){return D(t,3,2)},haloPath:function(t){if(!t)return[];let e=this.tileEdges;return[["M",e.x2-t,e.y1+t],["L",e.x3+t,e.y1+t],["L",e.x4+1.5*t,e.y2],["L",e.x3+t,e.y3-t],["L",e.x2-t,e.y3-t],["L",e.x1-1.5*t,e.y2],["Z"]]},translate:function(){let t,e=this.options,i=this.xAxis,o=this.yAxis,s=e.pointPadding||0,a=(e.colsize||1)/3,n=(e.rowsize||1)/2;for(let e of(this.generatePoints(),this.points)){let r=w(Math.floor(i.len-i.translate(e.x-2*a,0,1,0,1)),-i.len,2*i.len),l=w(Math.floor(i.len-i.translate(e.x-a,0,1,0,1)),-i.len,2*i.len),p=w(Math.floor(i.len-i.translate(e.x+a,0,1,0,1)),-i.len,2*i.len),h=w(Math.floor(i.len-i.translate(e.x+2*a,0,1,0,1)),-i.len,2*i.len),d=w(Math.floor(o.translate(e.y-n,0,1,0,1)),-o.len,2*o.len),c=w(Math.floor(o.translate(e.y,0,1,0,1)),-o.len,2*o.len),u=w(Math.floor(o.translate(e.y+n,0,1,0,1)),-o.len,2*o.len),x=e.pointPadding??s,f=x*Math.abs(l-r)/Math.abs(u-c),g=i.reversed?-f:f,y=i.reversed?-x:x,b=o.reversed?-x:x;e.x%2&&(t=t||Math.round(Math.abs(u-d)/2)*(o.reversed?-1:1),d+=t,c+=t,u+=t),e.plotX=e.clientX=(l+p)/2,e.plotY=c,e.tileEdges={x1:r+=g+y,x2:l+=y,x3:p-=y,x4:h-=g+y,y1:d-=b,y2:c,y3:u+=b},e.shapeType="path",e.shapeArgs={d:[["M",l,d],["L",p,d],["L",h,c],["L",p,u],["L",l,u],["L",r,c],["Z"]]}}this.translateColors()}},diamond:{alignDataLabel:C.prototype.alignDataLabel,getSeriesPadding:function(t){return D(t,2,2)},haloPath:function(t){if(!t)return[];let e=this.tileEdges;return[["M",e.x2,e.y1+t],["L",e.x3+t,e.y2],["L",e.x2,e.y3-t],["L",e.x1-t,e.y2],["Z"]]},translate:function(){let t,e=this.options,i=this.xAxis,o=this.yAxis,s=e.pointPadding||0,a=e.colsize||1,n=(e.rowsize||1)/2;for(let e of(this.generatePoints(),this.points)){let r=w(Math.round(i.len-i.translate(e.x-a,0,1,0,0)),-i.len,2*i.len),l=w(Math.round(i.len-i.translate(e.x+a,0,1,0,0)),-i.len,2*i.len),p=w(Math.round(o.translate(e.y-n,0,1,0,0)),-o.len,2*o.len),h=w(Math.round(o.translate(e.y,0,1,0,0)),-o.len,2*o.len),d=w(Math.round(o.translate(e.y+n,0,1,0,0)),-o.len,2*o.len),c=w(Math.round(i.len-i.translate(e.x,0,1,0,0)),-i.len,2*i.len),u=T(e.pointPadding,s),x=u*Math.abs(c-r)/Math.abs(d-h),f=i.reversed?-x:x,g=o.reversed?-u:u;e.x%2&&(t=Math.abs(d-p)/2*(o.reversed?-1:1),p+=t,h+=t,d+=t),e.plotX=e.clientX=c,e.plotY=h,e.tileEdges={x1:r+=f,x2:c,x3:l-=f,y1:p-=g,y2:h,y3:d+=g},e.shapeType="path",e.shapeArgs={d:[["M",c,p],["L",l,h],["L",c,d],["L",r,h],["Z"]]}}this.translateColors()}},circle:{alignDataLabel:C.prototype.alignDataLabel,getSeriesPadding:function(t){return D(t,2,2)},haloPath:function(t){return C.prototype.pointClass.prototype.haloPath.call(this,t+(t&&this.radius))},translate:function(){let t,e,i,o,s=this.options,a=this.xAxis,n=this.yAxis,r=s.pointPadding||0,l=(s.rowsize||1)/2,p=s.colsize||1,h=!1;for(let s of(this.generatePoints(),this.points)){let d=w(Math.round(a.len-a.translate(s.x,0,1,0,0)),-a.len,2*a.len),c=r,u=!1,x=w(Math.round(n.translate(s.y,0,1,0,0)),-n.len,2*n.len);void 0!==s.pointPadding&&(c=s.pointPadding,u=!0,h=!0),(!o||h)&&(i=Math.floor(Math.sqrt((t=Math.abs(w(Math.floor(a.len-a.translate(s.x+p,0,1,0,0)),-a.len,2*a.len)-d))*t+(e=Math.abs(w(Math.floor(n.translate(s.y+l,0,1,0,0)),-n.len,2*n.len)-x))*e)/2),o=Math.min(t,i,e)-c,h&&!u&&(h=!1)),s.x%2&&(x+=e*(n.reversed?-1:1)),s.plotX=s.clientX=d,s.plotY=x,s.radius=o,s.shapeType="circle",s.shapeArgs={x:d,y:x,r:o}}this.translateColors()}},square:{alignDataLabel:S.prototype.alignDataLabel,translate:S.prototype.translate,getSeriesPadding:v,haloPath:S.prototype.pointClass.prototype.haloPath}},{composed:I,noop:O}=p(),{column:z,heatmap:_,scatter:k}=d().seriesTypes,{addEvent:X,extend:j,merge:F,pushUnique:U}=p();function V(){if(this.recomputingForTilemap||"colorAxis"===this.coll)return;let t=this,e=t.series.map(function(e){return e.getSeriesPixelPadding&&e.getSeriesPixelPadding(t)}).reduce(function(t,e){return(t&&t.padding)>(e&&e.padding)?t:e},void 0)||{padding:0,axisLengthFactor:1},i=Math.round(e.padding*e.axisLengthFactor);e.padding&&(t.len-=i,t.recomputingForTilemap=!0,t.setAxisTranslation(),delete t.recomputingForTilemap,t.minPixelPadding+=e.padding,t.len+=i)}class Z extends _{static compose(t){U(I,"TilemapSeries")&&X(t,"afterSetAxisTranslation",V)}alignDataLabel(){return this.tileShape.alignDataLabel.apply(this,arguments)}drawPoints(){for(let t of(z.prototype.drawPoints.call(this),this.points))t.graphic&&t.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(t))}getSeriesPixelPadding(t){let e=t.isXAxis,i=this.tileShape.getSeriesPadding(this);if(!i)return{padding:0,axisLengthFactor:1};let o=Math.round(t.translate(e?2*i.xPad:i.yPad,0,1,0,1)),s=Math.round(t.translate(e?i.xPad:0,0,1,0,1));return{padding:(t.single?Math.abs(o-s)/2:Math.abs(o-s))||0,axisLengthFactor:e?2:1.1}}setOptions(){let t=super.setOptions.apply(this,arguments);return this.tileShape=E[t.tileShape],t}translate(){return this.tileShape.translate.apply(this,arguments)}}Z.defaultOptions=F(_.defaultOptions,{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"}),j(Z.prototype,{getSymbol:O,markerAttribs:k.prototype.markerAttribs,pointAttribs:z.prototype.pointAttribs,pointClass:L}),d().registerSeriesType("tilemap",Z);let q=p();Z.compose(q.Axis);let H=p();return r.default})())(s._Highcharts,s._Highcharts.SeriesRegistry,s._Highcharts.Color)),n=e({__proto__:null,default:t(a)},[a]);export{n as t};
//# sourceMappingURL=tilemap-CWwjgEOG.js.map
