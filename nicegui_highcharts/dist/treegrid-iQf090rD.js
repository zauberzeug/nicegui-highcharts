import{g as t}from"./index-B1MHyEgd.js";function e(t,e){return e.forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(i){if("default"!==i&&!(i in t)){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}})}),Object.freeze(t)}var i,s={exports:{}};var r,o=i?s.exports:(i=1,r="undefined"==typeof window?s.exports:window,s.exports=((t,e,i,s)=>(()=>{let r;var o,n,a={184:t=>{t.exports=e},532:t=>{t.exports=i},620:t=>{t.exports=s},944:e=>{e.exports=t}},l={};function d(t){var e=l[t];if(void 0!==e)return e.exports;var i=l[t]={exports:{}};return a[t](i,i.exports,d),i.exports}d.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return d.d(e,{a:e}),e},d.d=(t,e)=>{for(var i in e)d.o(e,i)&&!d.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},d.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var h={};d.d(h,{default:()=>Xt});var c=d(944),p=d.n(c),f=d(184),u=d.n(f);let{addEvent:m,find:g,fireEvent:k,isArray:x,isNumber:b,pick:y}=p();!function(t){function e(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function i(){Object.keys(this.options.breaks?.[0]||{}).length&&(this.options.ordinal=!1)}function s(){let t=this.brokenAxis;if(t?.hasBreaks){let e=this.tickPositions,i=this.tickPositions.info,s=[];for(let i=0;i<e.length;i++)t.isInAnyBreak(e[i])||s.push(e[i]);this.tickPositions=s,this.tickPositions.info=i}}function r(){this.brokenAxis||(this.brokenAxis=new d(this))}function o(){let{isDirty:t,options:{connectNulls:e},points:i,xAxis:s,yAxis:r}=this;if(t){let t=i.length;for(;t--;){let o=i[t],n=(null!==o.y||!1!==e)&&(s?.brokenAxis?.isInAnyBreak(o.x,!0)||r?.brokenAxis?.isInAnyBreak(o.y,!0));o.visible=!n&&!1!==o.options.visible}}}function n(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,y(this.pointArrayMap,["y"]))}function a(t,e){let i,s,r,o=this,n=o.points;if(t?.brokenAxis?.hasBreaks){let a=t.brokenAxis;e.forEach(function(e){i=a?.breakArray||[],s=t.isXAxis?t.min:y(o.options.threshold,t.min),n.forEach(function(o){r=o["stack"+e.toUpperCase()]??o[e],i.forEach(function(e){if(b(s)&&b(r)){let i="";s<e.from&&r>e.to||s>e.from&&r<e.from?i="pointBreak":(s<e.from&&r>e.from&&r<e.to||s>e.from&&r>e.to&&r<e.from)&&(i="pointInBreak"),i&&k(t,i,{point:o,brk:e})}})})})}}function l(){let t=this.currentDataGrouping,e=t?.gapSize,i=this.points.slice(),s=this.yAxis,r=this.options.gapSize,o=i.length-1;if(r&&o>0){let t,n;for("value"!==this.options.gapUnit&&(r*=this.basePointRange),e&&e>r&&e>=this.basePointRange&&(r=e);o--;)if(n&&!1!==n.visible||(n=i[o+1]),t=i[o],!1!==n.visible&&!1!==t.visible){if(n.x-t.x>r){let e=(t.x+n.x)/2;i.splice(o+1,0,{isNull:!0,x:e}),s.stacking&&this.options.stacking&&((s.stacking.stacks[this.stackKey][e]=new(u())(s,s.options.stackLabels,!1,e,this.stack)).total=0)}n=t}}return this.getGraphPath(i)}t.compose=function(t,d){if(!t.keepProps.includes("brokenAxis")){t.keepProps.push("brokenAxis"),m(t,"init",r),m(t,"afterInit",e),m(t,"afterSetTickPositions",s),m(t,"afterSetOptions",i);let h=d.prototype;h.drawBreaks=a,h.gappedPath=l,m(d,"afterGeneratePoints",o),m(d,"afterRender",n)}return t};class d{static isInBreak(t,e){let i=t.repeat||1/0,s=t.from,r=t.to-t.from,o=e>=s?(e-s)%i:i-(s-e)%i;return t.inclusive?o<=r:o<r&&0!==o}static lin2Val(t){let e=this.min||0,i=this.brokenAxis,s=i?.breakArray;if(!s?.length||!b(t))return t;let r=t;if(t>e)for(let t of s){if(t.from>r)break;(t.to<=r&&t.to>e||d.isInBreak(t,r))&&(r+=t.len)}else if(t<e)for(let t of s){if(t.from>e)break;(t.from>=r&&t.from<e||d.isInBreak(t,r))&&(r-=t.len)}return r}static val2Lin(t){let e=this.min||0,i=this.brokenAxis,s=i?.breakArray;if(!s?.length||!b(t))return t;let r=t;if(t>e)for(let i of s)if(i.to<=t&&i.to>e)r-=i.len;else{if(i.from>t)break;if(d.isInBreak(i,t)){r-=t-i.from;break}}else if(t<e)for(let i of s)if(i.from>=t&&i.from<e)r+=i.len;else{if(i.from>e)break;if(d.isInBreak(i,t)){r+=i.to-t;break}}return r}constructor(t){this.axis=t}findBreakAt(t,e){return g(e,function(e){return e.from<t&&t<e.to})}isInAnyBreak(t,e){let i,s,r,o=this.axis,n=o.options.breaks||[],a=n.length;if(a&&b(t)){for(;a--;)d.isInBreak(n[a],t)&&(i=!0,s||(s=y(n[a].showPoints,!o.isXAxis)));r=i&&e?i&&!s:i}return r}setBreaks(t,e){let i=this,s=i.axis,r=s.chart.time,o=x(t)&&!!Object.keys(t?.[0]||{}).length;s.isDirty=(i.hasBreaks??!1)!==o,i.hasBreaks=o,t?.forEach(t=>{t.from=r.parse(t.from)||0,t.to=r.parse(t.to)||0}),t!==s.options.breaks&&(s.options.breaks=s.userOptions.breaks=t),s.forceRedraw=!0,s.series.forEach(function(t){t.isDirty=!0}),o||s.val2lin!==d.val2Lin||(delete s.val2lin,delete s.lin2val),o&&(s.userOptions.ordinal=!1,s.lin2val=d.lin2Val,s.val2lin=d.val2Lin,s.setExtremes=function(t,e,r,o,n){if(i.hasBreaks&&!s.treeGrid?.tree){let s,r=this.brokenAxis.breakArray||[];for(;s=i.findBreakAt(t,r);)t=s.to;for(;s=i.findBreakAt(e,r);)e=s.from;e<t&&(e=t)}s.constructor.prototype.setExtremes.call(this,t,e,r,o,n)},s.setAxisTranslation=function(){if(s.constructor.prototype.setAxisTranslation.call(this),i.unitLength=void 0,i.hasBreaks){let t,e,r,o,n=s.options.breaks||[],a=[],l=[],h=s.pointRangePadding??0,c=0,p=s.userMin??s.min,f=s.userMax??s.max,u=s.dataMin??p,m=s.dataMax??f;b(s.threshold)&&(u=Math.min(u??s.threshold,s.threshold),m=Math.max(m??s.threshold,s.threshold)),s.treeGrid?.tree||n.forEach(function(t){e=t.repeat||1/0,b(p)&&b(f)&&(d.isInBreak(t,p)&&(p+=t.to%e-p%e),d.isInBreak(t,f)&&(f-=f%e-t.from%e))}),b(u)&&b(m)&&n.forEach(function(t){for(r=t.from,e=t.repeat||1/0;r-e>u;)r-=e;for(;r<u;)r+=e;for(o=r;o<m;o+=e)a.push({value:o,move:"in"}),a.push({value:o+t.to-t.from,move:"out",size:t.breakSize})}),a.sort(function(t,e){return t.value===e.value?("in"!==t.move)-("in"!==e.move):t.value-e.value}),t=0,r=u,a.forEach(e=>{1===(t+="in"===e.move?1:-1)&&"in"===e.move&&(r=e.value),0===t&&b(r)&&(l.push({from:r,to:e.value,len:e.value-r-(e.size||0)}),b(p)&&b(f)&&r<f&&e.value>p&&(c+=e.value-r-(e.size||0)))}),i.breakArray=l,b(p)&&b(f)&&b(s.min)&&(i.unitLength=f-p-c+h,k(s,"afterBreaks"),s.staticScale?s.transA=s.staticScale:i.unitLength&&(s.transA*=(f-s.min+h)/i.unitLength),h&&(s.minPixelPadding=s.transA*(s.minPointOffset||0)),s.min=p,s.max=f)}}),y(e,!0)&&s.chart.redraw()}}t.Additions=d}(o||(o={}));let v=o;var P=d(532),A=d.n(P);let{dateFormats:O}=p(),{addEvent:G,defined:w,erase:B,find:E,isArray:T,isNumber:M,merge:N,pick:I,timeUnits:L,wrap:S}=p();function C(t){return p().isObject(t,!0)}function z(t,e){let i={width:0,height:0};if(e.forEach(function(e){let s,r=t[e],o=0,n=0;C(r)&&(o=(s=C(r.label)?r.label:{}).getBBox?s.getBBox().height:0,s.textStr&&!M(s.textPxLength)&&(s.textPxLength=s.getBBox().width),n=M(s.textPxLength)?Math.round(s.textPxLength):0,s.textStr&&(n=Math.round(s.getBBox().width)),i.height=Math.max(o,i.height),i.width=Math.max(n,i.width))}),"treegrid"===this.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode){let t=this.treeGrid.mapOfPosToGridNode[-1].height||0;i.width+=this.options.labels.indentation*(t-1)}return i}function W(t){let{grid:e}=this,i=3===this.side;if(i||t.apply(this),!e?.isColumn){let t=e?.columns||[];i&&(t=t.slice().reverse()),t.forEach(t=>{t.getOffset()})}i&&t.apply(this)}function j(t){if(!0===(this.options.grid||{}).enabled){let{axisTitle:e,height:i,horiz:s,left:r,offset:o,opposite:a,options:l,top:d,width:h}=this,c=this.tickSize(),p=e?.getBBox().width,f=l.title.x,u=l.title.y,m=I(l.title.margin,s?5:10),g=e?this.chart.renderer.fontMetrics(e).f:0,k=(s?d+i:r)+(s?1:-1)*(a?-1:1)*(c?c[0]/2:0)+(this.side===n.bottom?g:0);t.titlePosition.x=s?r-(p||0)/2-m+f:k+(a?h:0)+o+f,t.titlePosition.y=s?k-(a?i:0)+(a?g:-g)/2+o+u:d-m+u}}function D(){let{chart:t,options:{grid:e={}},userOptions:i}=this;if(e.enabled&&function(t){let e=t.options;e.labels.align=I(e.labels.align,"center"),t.categories||(e.showLastLabel=!1),t.labelRotation=0,e.labels.rotation=0,e.minTickInterval=1}(this),e.columns){let s=this.grid.columns=[],r=this.grid.columnIndex=0;for(;++r<e.columns.length;){let o=N(i,e.columns[r],{isInternal:!0,linkedTo:0,scrollbar:{enabled:!1}},{grid:{columns:void 0}}),n=new(A())(this.chart,o,"yAxis");n.grid.isColumn=!0,n.grid.columnIndex=r,B(t.axes,n),B(t[this.coll]||[],n),s.push(n)}}}function R(){let{axisTitle:t,grid:e,options:i}=this;if(!0===(i.grid||{}).enabled){let s=this.min||0,r=this.max||0,o=this.ticks[this.tickPositions[0]];if(t&&!this.chart.styledMode&&o?.slotWidth&&!this.options.title.style.width&&t.css({width:`${o.slotWidth}px`}),this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid?.isOuterAxis()&&this.axisLine){let t=i.lineWidth;if(t){let e=this.getLinePath(t),o=e[0],a=e[1],l=(this.tickSize("tick")||[1])[0]*(this.side===n.top||this.side===n.left?-1:1);if("M"===o[0]&&"L"===a[0]&&(this.horiz?(o[2]+=l,a[2]+=l):(o[1]+=l,a[1]+=l)),!this.horiz&&this.chart.marginRight){let t=[o,["L",this.left,o[2]||0]],e=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(r+this.tickmarkOffset)],n=[["M",a[1]||0,this.toPixels(r+this.tickmarkOffset)],e];this.grid.upperBorder||s%1==0||(this.grid.upperBorder=this.grid.renderBorder(t)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.upperBorder.animate({d:t})),this.grid.lowerBorder||r%1==0||(this.grid.lowerBorder=this.grid.renderBorder(n)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.lowerBorder.animate({d:n}))}this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.axisLineExtra.animate({d:e})):this.grid.axisLineExtra=this.grid.renderBorder(e),this.axisLine[this.showAxis?"show":"hide"]()}}if((e?.columns||[]).forEach(t=>t.render()),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent?.scrollbar)&&this.tickPositions.length){let t,e,i=this.tickmarkOffset,o=this.tickPositions[this.tickPositions.length-1],n=this.tickPositions[0];for(;(t=this.hiddenLabels.pop())&&t.element;)t.show();for(;(e=this.hiddenMarks.pop())&&e.element;)e.show();(t=this.ticks[n].label)&&(s-n>i?this.hiddenLabels.push(t.hide()):t.show()),(t=this.ticks[o].label)&&(o-r>i?this.hiddenLabels.push(t.hide()):t.show());let a=this.ticks[o].mark;a&&o-r<i&&o-r>0&&this.ticks[o].isLast&&this.hiddenMarks.push(a.hide())}}}function _(){let t=this.tickPositions?.info,e=this.options,i=e.grid||{},s=this.userOptions.labels||{};i.enabled&&(this.horiz?(this.series.forEach(t=>{t.options.pointRange=0}),t&&e.dateTimeLabelFormats&&e.labels&&!w(s.align)&&(!1===e.dateTimeLabelFormats[t.unitName].range||t.count>1)&&(e.labels.align="left",w(s.x)||(e.labels.x=3))):"treegrid"!==this.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function H(t){let e,i=this.options,s=t.userOptions,r=i&&C(i.grid)?i.grid:{};!0===r.enabled&&(e=N(!0,{className:"highcharts-grid-axis "+(s.className||""),dateTimeLabelFormats:{hour:{list:["%[HM]","%[H]"]},day:{list:["%[AeB]","%[aeb]","%[E]"]},week:{list:["Week %W","W%W"]},month:{list:["%[B]","%[b]","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0,style:{textOverflow:"ellipsis"}},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},s),"xAxis"===this.coll&&(w(s.linkedTo)&&!w(s.tickPixelInterval)&&(e.tickPixelInterval=350),!(!w(s.tickPixelInterval)&&w(s.linkedTo))||w(s.tickPositioner)||w(s.tickInterval)||w(s.units)||(e.tickPositioner=function(t,i){let s=this.linkedParent?.tickPositions?.info;if(s){let r,o=e.units||[],n=1,a="year";for(let t=0;t<o.length;t++){let e=o[t];if(e&&e[0]===s.unitName){r=t;break}}let l=M(r)&&o[r+1];if(l){a=l[0]||"year";let t=l[1];n=t?.[0]||1}else"year"===s.unitName&&(n=10*s.count);let d=L[a];return this.tickInterval=d*n,this.chart.time.getTimeTicks({unitRange:d,count:n,unitName:a},t,i,this.options.startOfWeek)}})),N(!0,this.options,e),this.horiz&&(i.minPadding=I(s.minPadding,0),i.maxPadding=I(s.maxPadding,0)),M(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=r.borderWidth))}function F(t){let e=t.userOptions,i=e?.grid||{},s=i.columns;i.enabled&&s&&N(!0,this.options,s[0])}function V(){(this.grid.columns||[]).forEach(t=>t.setScale())}function X(t){let{horiz:e,maxLabelDimensions:i,options:{grid:s={}}}=this;if(s.enabled&&i){let r=2*this.options.labels.distance,o=e?s.cellHeight||r+i.height:r+i.width;T(t.tickSize)?t.tickSize[0]=o:t.tickSize=[o,0]}}function q(){this.axes.forEach(t=>{(t.grid?.columns||[]).forEach(t=>{t.setAxisSize(),t.setAxisTranslation()})})}function U(t){let{grid:e}=this;(e.columns||[]).forEach(e=>e.destroy(t.keepEvents)),e.columns=void 0}function K(t){let e=t.userOptions||{},i=e.grid||{};i.enabled&&w(i.borderColor)&&(e.tickColor=e.lineColor=i.borderColor),this.grid||(this.grid=new Z(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function Y(t){let e=this.label,i=this.axis,s=i.reversed,r=i.chart,o=i.options.grid||{},a=i.options.labels,l=a.align,d=n[i.side],h=t.tickmarkOffset,c=i.tickPositions,p=this.pos-h,f=M(c[t.index+1])?c[t.index+1]-h:(i.max||0)+h,u=i.tickSize("tick"),m=u?u[0]:0,g=u?u[1]/2:0;if(!0===o.enabled){let o,n,h,c;if("top"===d?n=(o=i.top+i.offset)-m:"bottom"===d?o=(n=r.chartHeight-i.bottom+i.offset)+m:(o=i.top+i.len-(i.translate(s?f:p)||0),n=i.top+i.len-(i.translate(s?p:f)||0)),"right"===d?c=(h=r.chartWidth-i.right+i.offset)+m:"left"===d?h=(c=i.left+i.offset)-m:(h=Math.round(i.left+(i.translate(s?f:p)||0))-g,c=Math.min(Math.round(i.left+(i.translate(s?p:f)||0))-g,i.left+i.len)),this.slotWidth=c-h,t.pos.x="left"===l?h:"right"===l?c:h+(c-h)/2,t.pos.y=n+(o-n)/2,e){let i=r.renderer.fontMetrics(e),s=e.getBBox().height;if(a.useHTML)t.pos.y+=i.b+-s/2;else{let e=Math.round(s/i.h);t.pos.y+=(i.b-(i.h-i.f))/2+-(e-1)*i.h/2}}t.pos.x+=i.horiz&&a.x||0}}function $(t){let{axis:e,value:i}=t;if(e.options.grid?.enabled){let s,r=e.tickPositions,o=(e.linkedParent||e).series[0],n=i===r[0],a=i===r[r.length-1],l=o&&E(o.options.data,function(t){return t[e.isXAxis?"x":"y"]===i});l&&o.is("gantt")&&(s=N(l),p().seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(s,e.chart)),t.isFirst=n,t.isLast=a,t.point=s}}function J(){let t=this.options,e=t.grid||{},i=this.categories,s=this.tickPositions,r=s[0],o=s[1],n=s[s.length-1],a=s[s.length-2],l=this.linkedParent?.min,d=this.linkedParent?.max,h=l||this.min,c=d||this.max,p=this.tickInterval,f=M(h)&&h>=r+p&&h<o,u=M(h)&&r<h&&r+p>h,m=M(c)&&n>c&&n-p<c,g=M(c)&&c<=n-p&&c>a;!0===e.enabled&&!i&&(this.isXAxis||this.isLinked)&&((u||f)&&!t.startOnTick&&(s[0]=h),(m||g)&&!t.endOnTick&&(s[s.length-1]=c))}function Q(t){var e;let{options:{grid:i={}}}=this;return!0===i.enabled&&this.categories?this.tickInterval:t.apply(this,(e=arguments,Array.prototype.slice.call(e,1)))}!function(t){t[t.top=0]="top",t[t.right=1]="right",t[t.bottom=2]="bottom",t[t.left=3]="left"}(n||(n={}));class Z{constructor(t){this.axis=t}isOuterAxis(){let t=this.axis,e=t.chart,i=t.grid.columnIndex,s=t.linkedParent?.grid.columns||t.grid.columns||[],r=i?t.linkedParent:t,o=-1,n=0;return 3===t.side&&!e.inverted&&s.length?!t.linkedParent:((e[t.coll]||[]).forEach((e,i)=>{e.side!==t.side||e.options.isInternal||(n=i,e===r&&(o=i))}),n===o&&(!M(i)||s.length===i))}renderBorder(t){let e=this.axis,i=e.chart.renderer,s=e.options,r=i.path(t).addClass("highcharts-axis-line").add(e.axisGroup);return i.styledMode||r.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),r}}O.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},O.W=function(t){let e=this.toParts(t),i=(e[7]+6)%7,s=e.slice(0);s[2]=e[2]-i+3;let r=this.toParts(this.makeTime(s[0],0,1));return 4!==r[7]&&(e[1]=0,e[2]=1+(11-r[7])%7),(1+Math.floor((this.makeTime(s[0],s[1],s[2])-this.makeTime(r[0],r[1],r[2]))/6048e5)).toString()};let tt=function(t,e,i){return t.keepProps.includes("grid")||(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=z,S(t.prototype,"unsquish",Q),S(t.prototype,"getOffset",W),G(t,"init",K),G(t,"afterGetTitlePosition",j),G(t,"afterInit",D),G(t,"afterRender",R),G(t,"afterSetAxisTranslation",_),G(t,"afterSetOptions",H),G(t,"afterSetOptions",F),G(t,"afterSetScale",V),G(t,"afterTickSize",X),G(t,"trimTicks",J),G(t,"destroy",U),G(e,"afterSetChartSize",q),G(i,"afterGetLabelPosition",Y),G(i,"labelFormat",$)),t},{extend:et,isNumber:it,pick:st}=p();function rt(t,e,i,s,r,o){let n,a,l=o&&o.after,d=o&&o.before,h={data:s,depth:i-1,id:t,level:i,parent:e||""},c=0,p=0;"function"==typeof d&&d(h,o);let f=(r[t]||[]).map(e=>{let s=rt(e.id,t,i+1,e,r,o),l=e.start||NaN,d=!0===e.milestone?l:e.end||NaN;return n=!it(n)||l<n?l:n,a=!it(a)||d>a?d:a,c=c+1+s.descendants,p=Math.max(s.height+1,p),s});return s&&(s.start=st(s.start,n),s.end=st(s.end,a)),et(h,{children:f,descendants:c,height:p}),"function"==typeof l&&l(h,o),h}let ot={getNode:rt,getTree:function(t,e){return rt("",null,1,null,function(t){let e=[],i=t.reduce((t,i)=>{let{parent:s="",id:r}=i;return void 0===t[s]&&(t[s]=[]),t[s].push(i),r&&e.push(r),t},{});return Object.keys(i).forEach(t=>{if(""!==t&&-1===e.indexOf(t)){let e=i[t].map(function(t){let{...e}=t;return e});i[""].push(...e),delete i[t]}}),i}(t),e)}},{addEvent:nt,correctFloat:at,removeEvent:lt,isObject:dt,isNumber:ht,pick:ct,wrap:pt}=p();function ft(){this.treeGrid||(this.treeGrid=new gt(this))}function ut(t,e,i,s,r,o,n,a,l){let d,h,c,p=ct(this.options?.labels,o),f=this.pos,u=this.axis,m="treegrid"===u.type,g=t.apply(this,[e,i,s,r,p,n,a,l]);if(m){let{width:t=0,padding:e=5*!u.linkedParent}=p&&dt(p.symbol,!0)?p.symbol:{},i=p&&ht(p.indentation)?p.indentation:0;d=u.treeGrid.mapOfPosToGridNode,h=d?.[f],c=h?.depth||1,g.x+=t+2*e+(c-1)*i}return g}function mt(t){let e,{pos:i,axis:s,label:r,treeGrid:o,options:n}=this,a=o?.labelIcon,l=r?.element,{treeGrid:d,options:h,chart:c,tickPositions:p}=s,f=d.mapOfPosToGridNode,u=ct(n?.labels,h?.labels),m=u&&dt(u.symbol,!0)?u.symbol:{},g=f?.[i],{descendants:k,depth:x}=g||{},b=g&&k&&k>0,y="treegrid"===s.type&&l,v=p.indexOf(i)>-1,P="highcharts-treegrid-node-",A=P+"level-",O=c.styledMode;y&&g&&r.removeClass(RegExp(A+".*")).addClass(A+x),t.apply(this,Array.prototype.slice.call(arguments,1)),y&&b?(e=d.isCollapsed(g),function(t,e){let i=t.treeGrid,s=!i.labelIcon,r=e.renderer,o=e.xy,n=e.options,a=n.width||0,l=n.height||0,d=n.padding??t.axis.linkedParent?0:5,h={x:o.x-a/2-d,y:o.y-l/2},c=e.collapsed?90:180,p=e.show&&ht(h.y),f=i.labelIcon;f||(i.labelIcon=f=r.path(r.symbols[n.type](n.x||0,n.y||0,a,l)).addClass("highcharts-label-icon").add(e.group)),f[p?"show":"hide"](),r.styledMode||f.attr({cursor:"pointer",fill:ct(e.color,"#666666"),"stroke-width":1,stroke:n.lineColor,strokeWidth:n.lineWidth||0}),f[s?"attr":"animate"]({translateX:h.x,translateY:h.y,rotation:c})}(this,{color:!O&&r.styles.color||"",collapsed:e,group:r.parentGroup,options:m,renderer:r.renderer,show:v,xy:r.xy}),r.addClass(P+(e?"collapsed":"expanded")).removeClass(P+(e?"expanded":"collapsed")),O||r.css({cursor:"pointer"}),[r,a].forEach(t=>{t&&!t.attachedTreeGridEvents&&(nt(t.element,"mouseover",function(){r.addClass("highcharts-treegrid-node-active"),r.renderer.styledMode||r.css({textDecoration:"underline"})}),nt(t.element,"mouseout",function(){let t=dt(u.style)?u.style:{};r.removeClass("highcharts-treegrid-node-active"),r.renderer.styledMode||r.css({textDecoration:t.textDecoration||"none"})}),nt(t.element,"click",function(){o.toggleCollapse()}),t.attachedTreeGridEvents=!0)})):a&&(lt(l),r?.css({cursor:"default"}),a.destroy(),o.labelIcon=void 0)}class gt{static compose(t){let e=t.prototype;e.toggleCollapse||(nt(t,"init",ft),pt(e,"getLabelPosition",ut),pt(e,"renderLabel",mt),e.collapse=function(t){this.treeGrid.collapse(t)},e.expand=function(t){this.treeGrid.expand(t)},e.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})}constructor(t){this.tick=t}collapse(t){let{pos:e,axis:i}=this.tick,{treeGrid:s,brokenAxis:r}=i,o=s.mapOfPosToGridNode;r&&o&&r.setBreaks(s.collapse(o[e]),t??!0)}destroy(){this.labelIcon?.destroy()}expand(t){let{pos:e,axis:i}=this.tick,{treeGrid:s,brokenAxis:r}=i,o=s.mapOfPosToGridNode;r&&o&&r.setBreaks(s.expand(o[e]),t??!0)}toggleCollapse(t=!0){let{axis:e,pos:i}=this.tick,{brokenAxis:s,treeGrid:r}=e;if(s&&r.mapOfPosToGridNode){let o=!(!e.scrollbar||!e.staticScale),n=e.pos+e.len+(r.pendingSizeAdjustment||0);if(r.pendingSizeAdjustment=0,s.setBreaks(r.toggleCollapse(r.mapOfPosToGridNode[i]),o&&t),o){let t=e.toValue(e.toPixels(e.dataMax)),i=e.toValue(n)-e.tickmarkOffset,s=e.userMin??e.min;if(r.adjustedMax=t!==e.dataMax?t-e.tickmarkOffset:void 0,i>e.dataMax){let t=n-e.toPixels(e.dataMax+e.tickmarkOffset);i=r.adjustedMax??e.dataMax,(s=e.toValue(e.toPixels(s-e.tickmarkOffset)-t)+e.tickmarkOffset)<e.dataMin&&(t=e.toPixels(e.dataMin)-e.toPixels(s),s=e.dataMin,r.pendingSizeAdjustment=t)}e.setExtremes(at(s),at(i),!1,!1,{trigger:"toggleCollapse"})}t&&e.chart.redraw()}}}var kt=d(620);d.n(kt);let{extend:xt,isArray:bt,isNumber:yt,isObject:vt,merge:Pt,pick:At,relativeLength:Ot}=p(),{getLevelOptions:Gt}={getLevelOptions:function(t){let e,i,s,r,o,n,a={};if(vt(t))for(r=yt(t.from)?t.from:1,n=t.levels,i={},e=vt(t.defaults)?t.defaults:{},bt(n)&&(i=n.reduce((t,i)=>{let s,o,n;return vt(i)&&yt(i.level)&&(o=At((n=Pt({},i)).levelIsConstant,e.levelIsConstant),delete n.levelIsConstant,delete n.level,vt(t[s=i.level+(o?0:r-1)])?Pt(!0,t[s],n):t[s]=n),t},{})),o=yt(t.to)?t.to:1,s=0;s<=o;s++)a[s]=Pt({},e,vt(i[s])?i[s]:{});return a}},{addEvent:wt,isArray:Bt,splat:Et,find:Tt,fireEvent:Mt,isObject:Nt,isString:It,merge:Lt,removeEvent:St,wrap:Ct}=p();function zt(t){return{from:t.collapseStart||0,to:t.collapseEnd||0,showPoints:!1}}function Wt(t,e,i){let s=[],r=[],o={},n=e||!1,a={},l=-1,d=ot.getTree(t,{after:function(t){let e=a[t.pos],i=0,s=0;e.children.forEach(function(t){s+=(t.descendants||0)+1,i=Math.max((t.height||0)+1,i)}),e.descendants=s,e.height=i,e.collapsed&&r.push(e)},before:function(t){let e,i,r=Nt(t.data,!0)?t.data:{},d=It(r.name)?r.name:"",h=o[t.parent],c=Nt(h,!0)?a[h.pos]:null;n&&Nt(c,!0)&&(e=Tt(c.children,function(t){return t.name===d}))?(i=e.pos,e.nodes.push(t)):i=l++,!a[i]&&(a[i]=e={depth:c?c.depth+1:0,name:d,id:r.id,nodes:[t],children:[],pos:i},-1!==i&&s.push(d),Nt(c,!0)&&c.children.push(e)),It(t.id)&&(o[t.id]=t),e&&!0===r.collapsed&&(e.collapsed=!0),t.pos=i}});return{categories:s,mapOfIdToNode:o,mapOfPosToGridNode:a=function(t,e){let i=function(t,s,r){let o=t.nodes,n=s+(-1===s?0:e-1),a=(n-s)/2,l=s+a;return o.forEach(function(t){let e=t.data;Nt(e,!0)&&(e.y=s+(e.seriesIndex||0),delete e.seriesIndex),t.pos=l}),r[l]=t,t.pos=l,t.tickmarkOffset=a+.5,t.collapseStart=n+.5,t.children.forEach(function(t){i(t,n+1,r),n=(t.collapseEnd||0)-.5}),t.collapseEnd=n+.5,r};return i(t[-1],-1,{})}(a,i),collapsedNodes:r,tree:d}}function jt(t){let e=t.target;e.axes.filter(t=>"treegrid"===t.type).forEach(function(i){let s,r,o=i.options,n=o.labels,a=i.uniqueNames,l=e.time.parse(o.max),d=!i.treeGrid.mapOfPosToGridNode||i.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty}),h=0;if(d){let o=[];if(s=i.series.reduce(function(t,i){let s=i.options.data||[],r=s[0],n=Array.isArray(r)&&!r.find(t=>"object"==typeof t);return o.push(n),i.visible&&(s.forEach(function(s){(n||i.options.keys?.length)&&(s=i.pointClass.prototype.optionsToObject.call({series:i},s),i.pointClass.setGanttPointAliases(s,e)),Nt(s,!0)&&(s.seriesIndex=h,t.push(s))}),!0===a&&h++),t},[]),l&&s.length<l)for(let t=s.length;t<=l;t++)s.push({name:t+"​"});i.categories=(r=Wt(s,a||!1,!0===a?h:1)).categories,i.treeGrid.mapOfPosToGridNode=r.mapOfPosToGridNode,i.hasNames=!0,i.treeGrid.tree=r.tree,i.series.forEach(function(t,e){let i=(t.options.data||[]).map(function(i){return(o[e]||Bt(i)&&t.options.keys?.length)&&s.forEach(function(t){let e=Et(i);e.indexOf(t.x||0)>=0&&e.indexOf(t.x2||0)>=0&&(i=t)}),Nt(i,!0)?Lt(i):i});t.visible&&t.setData(i,!1)}),i.treeGrid.mapOptionsToLevel=Gt({defaults:n,from:1,levels:n?.levels,to:i.treeGrid.tree?.height}),"beforeRender"===t.type&&(i.treeGrid.collapsedNodes=r.collapsedNodes)}})}function Dt(t,e){let i,s,o,n=this.treeGrid.mapOptionsToLevel||{},a="treegrid"===this.type,l=this.ticks,d=l[e];a&&this.treeGrid.mapOfPosToGridNode?((i=n[(o=this.treeGrid.mapOfPosToGridNode[e]).depth])&&(s={labels:i}),!d&&r?l[e]=d=new r(this,e,void 0,void 0,{category:o.name,tickmarkOffset:o.tickmarkOffset,options:s}):(d.parameters.category=o.name,d.options=s,d.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function Rt(t,e,i,s){let r=this,o="treegrid"===i.type;r.treeGrid||(r.treeGrid=new Ft(r)),o&&(wt(e,"beforeRender",jt),wt(e,"beforeRedraw",jt),wt(e,"addSeries",function(t){if(t.options.data){let e=Wt(t.options.data,i.uniqueNames||!1,1);r.treeGrid.collapsedNodes=(r.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes)}}),wt(r,"foundExtremes",function(){r.treeGrid.collapsedNodes?.forEach(function(t){let e=r.treeGrid.collapse(t);r.brokenAxis&&(r.brokenAxis.setBreaks(e,!1),r.treeGrid.collapsedNodes&&(r.treeGrid.collapsedNodes=r.treeGrid.collapsedNodes.filter(e=>t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd)))})}),wt(r,"afterBreaks",function(){"yAxis"===r.coll&&!r.staticScale&&r.chart.options.chart.height&&(r.isDirty=!0)}),i=Lt({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10}},uniqueNames:!1},i,{reversed:!0})),t.apply(r,[e,i,s]),o&&(r.hasNames=!0,r.options.showLastLabel=!0)}function _t(t){let e=this.options,i=this.chart.time,s="number"==typeof e.linkedTo?this.chart[this.coll]?.[e.linkedTo]:void 0;if("treegrid"===this.type){if(this.min=this.userMin??i.parse(e.min)??this.dataMin,this.max=this.userMax??i.parse(e.max)??this.dataMax,Mt(this,"foundExtremes"),this.setAxisTranslation(),this.tickInterval=1,this.tickmarkOffset=.5,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[],s){let t=s.getExtremes();this.min=t.min??t.dataMin,this.max=t.max??t.dataMax,this.tickPositions=s.tickPositions}this.linkedParent=s}else t.apply(this,Array.prototype.slice.call(arguments,1))}function Ht(t){let e=this;"treegrid"===this.type&&e.visible&&e.tickPositions.forEach(function(t){let i=e.ticks[t];i.label?.attachedTreeGridEvents&&(St(i.label.element),i.label.attachedTreeGridEvents=!1)}),t.apply(e,Array.prototype.slice.call(arguments,1))}class Ft{static compose(t,e,i,s){if(!t.keepProps.includes("treeGrid")){let e=t.prototype;t.keepProps.push("treeGrid"),Ct(e,"generateTick",Dt),Ct(e,"init",Rt),Ct(e,"setTickInterval",_t),Ct(e,"redraw",Ht),e.utils={getNode:ot.getNode},r||(r=s)}return tt(t,e,s),v.compose(t,i),gt.compose(s),t}constructor(t){this.pendingSizeAdjustment=0,this.axis=t}setCollapsedStatus(t){let e=this.axis,i=e.chart;e.series.forEach(function(e){let s=e.options.data;if(t.id&&s){let r=i.get(t.id),o=s[e.data.indexOf(r)];r&&o&&(r.collapsed=t.collapsed,o.collapsed=t.collapsed)}})}collapse(t){let e=this.axis,i=e.options.breaks||[],s=zt(t);return i.push(s),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i}expand(t){let e=this.axis,i=zt(t);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),e.options.breaks?.reduce(function(t,e){return(e.to!==i.to||e.from!==i.from)&&t.push(e),t},[])||[]}getTickPositions(){let t=this.axis,e=Math.floor(t.min/t.tickInterval)*t.tickInterval,i=Math.ceil(t.max/t.tickInterval)*t.tickInterval;return Object.keys(t.treeGrid.mapOfPosToGridNode||{}).reduce(function(s,r){let o=+r;return o>=e&&o<=i&&!t.brokenAxis?.isInAnyBreak(o)&&s.push(o),s},[])}isCollapsed(t){let e=this.axis.options.breaks||[],i=zt(t);return e.some(function(t){return t.from===i.from&&t.to===i.to})}toggleCollapse(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)}}let Vt=p();Ft.compose(Vt.Axis,Vt.Chart,Vt.Series,Vt.Tick);let Xt=p();return h.default})())(r._Highcharts,r._Highcharts.StackItem,r._Highcharts.Axis,r._Highcharts.Color)),n=e({__proto__:null,default:t(o)},[o]);export{n as t};
//# sourceMappingURL=treegrid-iQf090rD.js.map
