import{g as t}from"./index-B1MHyEgd.js";function e(t,e){return e.forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(s){if("default"!==s&&!(s in t)){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}})}),Object.freeze(t)}var s,r={exports:{}};var o,i=s?r.exports:(s=1,o="undefined"==typeof window?r.exports:window,r.exports=((t,e,s,r)=>(()=>{var o,i,n={260:t=>{t.exports=e},512:t=>{t.exports=s},540:t=>{t.exports=r},944:e=>{e.exports=t}},a={};function h(t){var e=a[t];if(void 0!==e)return e.exports;var s=a[t]={exports:{}};return n[t](s,s.exports,h),s.exports}h.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return h.d(e,{a:e}),e},h.d=(t,e)=>{for(var s in e)h.o(e,s)&&!h.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},h.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var l={};h.d(l,{default:()=>k});var u=h(944),c=h.n(u);!function(t){t.setLength=function(t,e,s){return Array.isArray(t)?(t.length=e,t):t[s?"subarray":"slice"](0,e)},t.splice=function(t,e,s,r,o=[]){if(Array.isArray(t))return Array.isArray(o)||(o=Array.from(o)),{removed:t.splice(e,s,...o),array:t};let i=Object.getPrototypeOf(t).constructor,n=t[r?"subarray":"slice"](e,e+s),a=new i(t.length-s+o.length);return a.set(t.subarray(0,e),0),a.set(o,e),a.set(t.subarray(e+s),e+o.length),{removed:n,array:a}}}(o||(o={}));let{setLength:p,splice:d}=o,{fireEvent:f,objectEach:y,uniqueKey:g}=c(),m=class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||g(),this.modified=this,this.rowCount=0,this.versionTag=g();let e=0;y(t.columns||{},(t,s)=>{this.columns[s]=t.slice(),e=Math.max(e,t.length)}),this.applyRowCount(e)}applyRowCount(t){this.rowCount=t,y(this.columns,(e,s)=>{e.length!==t&&(this.columns[s]=p(e,t))})}deleteRows(t,e=1){if(e>0&&t<this.rowCount){let s=0;y(this.columns,(r,o)=>{this.columns[o]=d(r,t,e).array,s=r.length}),this.rowCount=s}f(this,"afterDeleteRows",{rowIndex:t,rowCount:e}),this.versionTag=g()}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((t,e)=>(t[e]=this.columns[e],t),{})}getRow(t,e){return(e||Object.keys(this.columns)).map(e=>this.columns[e]?.[t])}setColumn(t,e=[],s=0,r){this.setColumns({[t]:e},s,r)}setColumns(t,e,s){let r=this.rowCount;y(t,(t,e)=>{this.columns[e]=t.slice(),r=t.length}),this.applyRowCount(r),s?.silent||(f(this,"afterSetColumns"),this.versionTag=g())}setRow(t,e=this.rowCount,s,r){let{columns:o}=this,i=s?this.rowCount+1:e+1;y(t,(t,n)=>{let a=o[n]||!1!==r?.addColumns&&Array(i);a&&(s?a=d(a,e,0,!0,[t]).array:a[e]=t,o[n]=a)}),i>this.rowCount&&this.applyRowCount(i),r?.silent||(f(this,"afterSetRows"),this.versionTag=g())}};var w=h(260),b=h.n(w),C=h(512),x=h.n(C),P=h(540),v=h.n(P);let{composed:R}=c(),{bubble:A}=x().seriesTypes,{addEvent:O,defined:E,find:j,isNumber:S,pushUnique:_}=c();!function(t){t.compose=function(t,s){if(_(R,"SeriesOnPoint")){let{chartGetZData:r,seriesAfterInit:o,seriesAfterRender:i,seriesGetCenter:n,seriesShowOrHide:a,seriesTranslate:h}=e.prototype;t.types.pie.prototype.onPointSupported=!0,O(t,"afterInit",o),O(t,"afterRender",i),O(t,"afterGetCenter",n),O(t,"hide",a),O(t,"show",a),O(t,"translate",h),O(s,"beforeRender",r),O(s,"beforeRedraw",r)}return t};class e{constructor(t){this.getColumn=A.prototype.getColumn,this.getRadii=A.prototype.getRadii,this.getRadius=A.prototype.getRadius,this.getPxExtremes=A.prototype.getPxExtremes,this.getZExtremes=A.prototype.getZExtremes,this.chart=t.chart,this.series=t,this.options=t.options.onPoint}drawConnector(){this.connector||(this.connector=this.series.chart.renderer.path().addClass("highcharts-connector-seriesonpoint").attr({zIndex:-1}).add(this.series.markerGroup));let t=this.getConnectorAttributes();t&&this.connector.animate(t)}getConnectorAttributes(){let t=this.series.chart,e=this.options;if(!e)return;let s=e.connectorOptions||{},r=e.position,o=t.get(e.id);if(!(o instanceof b()&&r&&E(o.plotX)&&E(o.plotY)))return;let i=E(r.x)?r.x:o.plotX,n=E(r.y)?r.y:o.plotY,a=i+(r.offsetX||0),h=n+(r.offsetY||0),l=s.width||1,u=s.stroke||this.series.color,c=s.dashstyle,p={d:v().prototype.crispLine([["M",i,n],["L",a,h]],l),"stroke-width":l};return t.styledMode||(p.stroke=u,p.dashstyle=c),p}seriesAfterInit(){this.onPointSupported&&this.options.onPoint&&(this.bubblePadding=!0,this.useMapGeometry=!0,this.onPoint=new e(this))}seriesAfterRender(){delete this.chart.bubbleZExtremes,this.onPoint&&this.onPoint.drawConnector()}seriesGetCenter(t){let e=this.options.onPoint,s=t.positions;if(e){let t=this.chart.get(e.id);t instanceof b()&&E(t.plotX)&&E(t.plotY)&&(s[0]=t.plotX,s[1]=t.plotY);let r=e.position;r&&(E(r.x)&&(s[0]=r.x),E(r.y)&&(s[1]=r.y),r.offsetX&&(s[0]+=r.offsetX),r.offsetY&&(s[1]+=r.offsetY))}let r=this.radii&&this.radii[this.index];S(r)&&(s[2]=2*r),t.positions=s}seriesShowOrHide(){let t=this.chart.series;this.points?.forEach(e=>{let s=j(t,t=>{let s=((t.onPoint||{}).options||{}).id;return!!s&&s===e.id});s&&s.setVisible(!s.visible,!1)})}seriesTranslate(){this.onPoint&&(this.onPoint.getRadii(),this.radii=this.onPoint.radii)}chartGetZData(){let t=[];this.series.forEach(e=>{let s=e.options.onPoint;t.push(s?.z??null)});let e=new m({columns:{z:t}});this.series.forEach(t=>{t.onPoint&&(t.onPoint.dataTable=t.dataTable=e)})}}t.Additions=e}(i||(i={}));let T=i,G=c();T.compose(G.Series,G.Chart);let k=c();return l.default})())(o._Highcharts,o._Highcharts.Point,o._Highcharts.SeriesRegistry,o._Highcharts.SVGRenderer)),n=e({__proto__:null,default:t(i)},[i]);export{n as s};
//# sourceMappingURL=series-on-point-CVUfTGky.js.map
