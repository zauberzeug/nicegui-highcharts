import{g as t}from"./index-B1MHyEgd.js";function e(t,e){return e.forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(i){if("default"!==i&&!(i in t)){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}})}),Object.freeze(t)}var i,o={exports:{}};var n,a=i?o.exports:(i=1,n="undefined"==typeof window?o.exports:window,o.exports=((t,e)=>(()=>{var i={512:t=>{t.exports=e},944:e=>{e.exports=t}},o={};function n(t){var e=o[t];if(void 0!==e)return e.exports;var a=o[t]={exports:{}};return i[t](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var a={};n.d(a,{default:()=>Z});var r=n(944),l=n.n(r);let s=function(t,e){let{animatableAttribs:i,onComplete:o,css:n,renderer:a}=e,r=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation,l=t.graphic;if(e.attribs={...e.attribs,class:t.getClassName()},t.shouldDraw())l||(t.graphic=l="text"===e.shapeType?a.text():"image"===e.shapeType?a.image(e.imageUrl||"").attr(e.shapeArgs||{}):a[e.shapeType](e.shapeArgs||{}),l.add(e.group)),n&&l.css(n),l.attr(e.attribs).animate(i,!e.isNew&&r,o);else if(l){let e=()=>{t.graphic=l=l&&l.destroy(),"function"==typeof o&&o()};Object.keys(i).length?l.animate(i,void 0,()=>e()):e()}};var h=n(512),p=n.n(h);let{column:{prototype:{pointClass:d}}}=p().seriesTypes,{extend:u}=l();class g extends d{isValid(){return!0}}u(g.prototype,{weight:1});let{deg2rad:c}=l(),{extend:m,find:f,isNumber:x,isObject:y,merge:b}=l();function M(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function w(t){let e=t.axes||[];return e.length||(e=[],t.concat([t[0]]).reduce((t,i)=>{let o=function(t,e){let i=e[0]-t[0],o=e[1]-t[1];return[[-o,i],[o,-i]]}(t,i)[0];return f(e,t=>t[0]===o[0]&&t[1]===o[1])||e.push(o),i}),t.axes=e),e}function S(t,e){let i=t.map(t=>{let i=t[0],o=t[1];return i*e[0]+o*e[1]});return{min:Math.min.apply(this,i),max:Math.max.apply(this,i)}}function P(t,e){let i=w(t),o=w(e);return!f(i.concat(o),i=>function(t,e,i){let o=S(e,t),n=S(i,t);return!!(n.min>o.max||n.max<o.min)}(i,t,e))}function A(t,e){let i=4*t,o=Math.ceil((Math.sqrt(i)-1)/2),n=2*o+1,a=Math.pow(n,2),r=!1;return n-=1,t<=1e4&&("boolean"==typeof r&&i>=a-n&&(r={x:o-(a-i),y:-o}),a-=n,"boolean"==typeof r&&i>=a-n&&(r={x:-o,y:a-i-o}),a-=n,"boolean"==typeof r&&(r=i>=a-n?{x:a-i-o,y:o}:{x:o,y:o-(a-i-n)}),r.x*=5,r.y*=5),r}function F(t,e){let i=Math.pow(10,x(e)?e:14);return Math.round(t*i)/i}function v(t,e){let i=t[0],o=t[1],n=-c*e,a=Math.cos(n),r=Math.sin(n);return[F(i*a-o*r),F(i*r+o*a)]}function X(t,e,i){let o=v([t[0]-e[0],t[1]-e[1]],i);return[o[0]+e[0],o[1]+e[1]]}let{noop:z}=l(),{column:T}=p().seriesTypes,{extend:O,isArray:Y,isNumber:C,isObject:_,merge:D}=l(),{archimedeanSpiral:j,extendPlayingField:B,getBoundingBoxFromPolygon:N,getPlayingField:W,getPolygon:E,getRandomPosition:R,getRotation:H,getScale:L,getSpiral:q,intersectionTesting:U,isPolygonsColliding:V,rectangularSpiral:k,rotate2DToOrigin:I,rotate2DToPoint:G,squareSpiral:J,updateFieldBoundaries:K}={archimedeanSpiral:function(t,e){let i=e.field,o=i.width*i.width+i.height*i.height,n=.8*t,a=!1;return t<=1e4&&(Math.min(Math.abs((a={x:n*Math.cos(n),y:n*Math.sin(n)}).x),Math.abs(a.y))<o||(a=!1)),a},extendPlayingField:function(t,e){let i,o,n,a,r,l;return y(t)&&y(e)?(i=e.bottom-e.top,o=e.right-e.left,r=o*(n=t.ratioX)>i*(a=t.ratioY)?o:i,l=b(t,{width:t.width+r*n*2,height:t.height+r*a*2})):l=t,l},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){let i=e[0],o=e[1];return t.left=Math.min(i,t.left),t.right=Math.max(i,t.right),t.bottom=Math.max(o,t.bottom),t.top=Math.min(o,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,i){let o=i.reduce(function(t,e){let i=e.dimensions,o=Math.max(i.width,i.height);return t.maxHeight=Math.max(t.maxHeight,i.height),t.maxWidth=Math.max(t.maxWidth,i.width),t.area+=o*o,t},{maxHeight:0,maxWidth:0,area:0}),n=Math.max(o.maxHeight,o.maxWidth,.85*Math.sqrt(o.area)),a=t>e?t/e:1,r=e>t?e/t:1;return{width:n*a,height:n*r,ratioX:a,ratioY:r}},getPolygon:function(t,e,i,o,n){let a=[t,e],r=t-i/2,l=t+i/2,s=e-o/2,h=e+o/2;return[[r,s],[l,s],[l,h],[r,h]].map(function(t){return X(t,a,-n)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,i,o){let n,a=!1;return x(t)&&x(e)&&x(i)&&x(o)&&t>0&&e>-1&&o>i&&(n=(o-i)/(t-1||1),a=i+e%t*n),a},getScale:function(t,e,i){let o=2*Math.max(Math.abs(i.top),Math.abs(i.bottom)),n=2*Math.max(Math.abs(i.left),Math.abs(i.right));return Math.min(n>0?1/n*t:1,o>0?1/o*e:1)},getSpiral:function(t,e){let i=[];for(let o=1;o<1e4;o++)i.push(t(o,e));return t=>t<=1e4&&i[t-1]},intersectionTesting:function(t,e){let i=e.placed,o=e.field,n=e.rectangle,a=e.polygon,r=e.spiral,l=t.rect=m({},n),s=1,h={x:0,y:0};for(t.polygon=a,t.rotation=e.rotation;!1!==h&&(function(t,e){let i=t.rect,o=t.polygon,n=t.lastCollidedWith,a=function(e){let n=M(i,e.rect);return n&&(t.rotation%90||e.rotation%90)&&(n=P(o,e.polygon)),n},r=!1;return n&&((r=a(n))||delete t.lastCollidedWith),r||(r=!!f(e,function(e){let i=a(e);return i&&(t.lastCollidedWith=e),i})),r}(t,i)||function(t,e){let i=-e.width/2,o=e.width/2,n=-e.height/2,a=e.height/2;return!(i<t.left&&o>t.right&&n<t.top&&a>t.bottom)}(l,o));)y(h=r(s))&&(l.left=n.left+h.x,l.right=n.right+h.x,l.top=n.top+h.y,l.bottom=n.bottom+h.y,t.polygon=function(t,e,i){return i.map(function(i){return[i[0]+t,i[1]+e]})}(h.x,h.y,a)),s++;return h},isPolygonsColliding:P,rectangularSpiral:function(t,e){let i=A(t),o=e.field;return i&&(i.x*=o.ratioX,i.y*=o.ratioY),i},rotate2DToOrigin:v,rotate2DToPoint:X,squareSpiral:A,updateFieldBoundaries:function(t,e){return(!x(t.left)||t.left>e.left)&&(t.left=e.left),(!x(t.right)||t.right<e.right)&&(t.right=e.right),(!x(t.top)||t.top>e.top)&&(t.top=e.top),(!x(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}};class Q extends T{pointAttribs(t,e){let i=l().seriesTypes.column.prototype.pointAttribs.call(this,t,e);return delete i.stroke,delete i["stroke-width"],i}deriveFontSize(t,e,i){let o=C(t)?t:0,n=C(e)?e:1;return Math.floor(Math.max(C(i)?i:1,o*n))}drawPoints(){if(this.zooming||this.defaultScale&&this.group.scaleX!==this.defaultScale)return;let t,e=this.hasRendered,i=this.xAxis,o=this.yAxis,n=this.chart,a=this.group,r=this.options,l=r.animation,h=r.allowExtendPlayingField,p=n.renderer,d=[],u=this.placementStrategy[r.placementStrategy],g=r.rotation,c=this.points.map(function(t){return t.weight}),m=Math.max.apply(null,c),f=this.points.concat().sort((t,e)=>e.weight-t.weight),x=p.text().add(a);for(let t of(this.group.attr({scaleX:1,scaleY:1}),f)){let e=1/m*t.weight,i=O({fontSize:this.deriveFontSize(e,r.maxFontSize,r.minFontSize)+"px"},r.style);x.css(i).attr({x:0,y:0,text:t.name});let o=x.getBBox(!0);t.dimensions={height:o.height,width:o.width}}t=W(i.len,o.len,f);let y=q(this.spirals[r.spiral],{field:t});for(let i of f){let o,n=1/m*i.weight,c=O({fontSize:this.deriveFontSize(n,r.maxFontSize,r.minFontSize)+"px"},r.style),x=u(i,{data:f,field:t,placed:d,rotation:g}),b=O(this.pointAttribs(i,i.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:x.x,y:x.y,text:i.name,rotation:C(x.rotation)?x.rotation:void 0}),M=E(x.x,x.y,i.dimensions.width,i.dimensions.height,x.rotation),w=N(M),S=U(i,{rectangle:w,polygon:M,field:t,placed:d,spiral:y,rotation:x.rotation});!S&&h&&(t=B(t,w),S=U(i,{rectangle:w,polygon:M,field:t,placed:d,spiral:y,rotation:x.rotation})),_(S)?(b.x=(b.x||0)+S.x,b.y=(b.y||0)+S.y,w.left+=S.x,w.right+=S.x,w.top+=S.y,w.bottom+=S.y,t=K(t,w),d.push(i),i.isNull=!1,i.isInside=!0):i.isNull=!0,l&&(o={x:b.x,y:b.y},e?(delete b.x,delete b.y):(b.x=0,b.y=0)),s(i,{animatableAttribs:o,attribs:b,css:c,group:a,renderer:p,shapeArgs:void 0,shapeType:"text"})}x=x.destroy(),this.defaultScale=L(i.len,o.len,t),this.field=t,this.group.attr({scaleX:this.defaultScale,scaleY:this.defaultScale})}hasData(){return _(this)&&!0===this.visible&&Y(this.points)&&this.points.length>0}getPlotBox(t){let{chart:e,group:i,zooming:o}=this,{plotSizeX:n=0,plotSizeY:a=0,inverted:r}=e,l=this[r?"yAxis":"xAxis"],s=this[r?"xAxis":"yAxis"],h=l?l.len:e.plotWidth,p=s?s.len:e.plotHeight,d=l?l.left:e.plotLeft,u=s?s.top:e.plotTop,g=this.field,c=0,m=0,f=d+h/2,x=u+p/2,y=f,b=x,M=this.defaultScale||1,w=0,S=0;if(g&&(w=2*Math.max(Math.abs(g.top),Math.abs(g.bottom)),S=2*Math.max(Math.abs(g.left),Math.abs(g.right))),r&&([S,w]=[w,S]),i&&o){let e=d+Math.max(S*(M=Math.max(o.scale,this.defaultScale||1)),h)/2,r=u+Math.max(w*M,p)/2,l=M-(i.scaleX||1);c=l*((n-S)/2+o.zoomX*n-h/2),m=l*((a-w)/2+o.zoomY*a-p/2),"series"===t&&(o.x=Math.max(0,Math.min(1-o.width,o.x+o.panX/o.scale)),c+=o.panX*n,o.panX=0,o.y=Math.max(0,Math.min(1-o.height,o.y+o.panY/o.scale)),m+=o.panY*a,o.panY=0),C(i.translateX)&&C(i.translateY)&&(y=i.translateX,b=i.translateY),f=y-c,(x=b-m)>r?x=r:x<2*u+p-r&&(x=2*u+p-r),f>e?f=e:f<2*d+h-e&&(f=2*d+h-e)}return{translateX:f,translateY:x,scaleX:M,scaleY:M}}}Q.defaultOptions=D(T.defaultOptions,{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}}),O(Q.prototype,{animate:z,animateDrilldown:z,animateDrillupFrom:z,isCartesian:!1,pointClass:g,setClip:z,placementStrategy:{random:function(t,e){let i=e.field,o=e.rotation;return{x:R(i.width)-i.width/2,y:R(i.height)-i.height/2,rotation:H(o.orientations,t.index,o.from,o.to)}},center:function(t,e){let i=e.rotation;return{x:0,y:0,rotation:H(i.orientations,t.index,i.from,i.to)}}},pointArrayMap:["weight"],spirals:{archimedean:j,rectangular:k,square:J},utils:{extendPlayingField:B,getRotation:H,isPolygonsColliding:V,rotate2DToOrigin:I,rotate2DToPoint:G}}),p().registerSeriesType("wordcloud",Q);let Z=l();return a.default})())(n._Highcharts,n._Highcharts.SeriesRegistry)),r=e({__proto__:null,default:t(a)},[a]);export{r as w};
//# sourceMappingURL=wordcloud-BGFLfoIn.js.map
