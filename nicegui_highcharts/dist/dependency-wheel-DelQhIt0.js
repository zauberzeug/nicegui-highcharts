import{g as t}from"./index-B1MHyEgd.js";function e(t,e){return e.forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(a){if("default"!==a&&!(a in t)){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}})}),Object.freeze(t)}var a,r={exports:{}};var n,s=a?r.exports:(a=1,n="undefined"==typeof window?r.exports:window,r.exports=((t,e,a)=>(()=>{var r,n={28:t=>{t.exports=a},512:t=>{t.exports=e},944:e=>{e.exports=t}},s={};function o(t){var e=s[t];if(void 0!==e)return e.exports;var a=s[t]={exports:{}};return n[t](a,a.exports,o),a.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};o.d(i,{default:()=>B});var d=o(944),h=o.n(d),l=o(512),p=o.n(l);let{sankey:{prototype:{pointClass:c}}}=p().seriesTypes,{pInt:u,wrap:f}=h(),{defined:g,getAlignFactor:x,relativeLength:y}=h();!function(t){t.compose=function(t,a){return t.sankeyColumn=new e(t,a),t};class e{constructor(t,e){this.points=t,this.series=e}getTranslationFactor(t){let e,a,r=this.points,n=r.slice(),s=t.chart,o=t.options.minLinkWidth||0,i=0,d=(s.plotSizeY||0)-(t.options.borderWidth||0)-(r.length-1)*t.nodePadding;for(;r.length;){for(i=d/r.sankeyColumn.sum(),e=!1,a=r.length;a--;)r[a].getSum()*i<o&&(r.splice(a,1),d=Math.max(0,d-o),e=!0);if(!e)break}for(let t of(r.length=0,n))r.push(t);return i}top(t){let e=this.series,a=e.nodePadding,r=this.points.reduce((r,n)=>(r>0&&(r+=a),r+Math.max(n.getSum()*t,e.options.minLinkWidth||0)),0);return x(e.options.nodeAlignment||"center")*((e.chart.plotSizeY||0)-r)}left(t){let e=this.series,a=e.chart,r=e.options.equalNodes,n=a.inverted?a.plotHeight:a.plotWidth,s=e.nodePadding,o=this.points.reduce((a,o)=>(a>0&&(a+=s),a+(r?n/o.series.nodes.length-s:Math.max(o.getSum()*t,e.options.minLinkWidth||0))),0);return((a.plotSizeX||0)-Math.round(o))/2}sum(){return this.points.reduce((t,e)=>t+e.getSum(),0)}offset(t,e){let a,r=this.points,n=this.series,s=n.nodePadding,o=0;if(n.is("organization")&&t.hangsFrom)return{absoluteTop:t.hangsFrom.nodeY};for(let i=0;i<r.length;i++){let d=r[i].getSum(),h=Math.max(d*e,n.options.minLinkWidth||0),l=t.options[n.chart.inverted?"offsetHorizontal":"offsetVertical"],p=t.options.offset||0;if(a=d?h+s:0,r[i]===t)return{relativeTop:o+(g(l)?y(l,h):y(p,a))};o+=a}}}t.SankeyColumnAdditions=e}(r||(r={}));let b=r;var m=o(28),P=o.n(m);let{deg2rad:M}=h(),{addEvent:L,merge:k,uniqueKey:v,defined:T,extend:A}=h();function C(t,e){e=k(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);let a=this.renderer.url,r=this.text||this,n=r.textPath,{attributes:s,enabled:o}=e;if(t=t||n&&n.path,n&&n.undo(),t&&o){let e=L(r,"afterModifyTree",e=>{if(t&&o){let n=t.attr("id");n||t.attr("id",n=v());let o={x:0,y:0};T(s.dx)&&(o.dx=s.dx,delete s.dx),T(s.dy)&&(o.dy=s.dy,delete s.dy),r.attr(o),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let i=e.nodes.slice(0);e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:A(s,{"text-anchor":s.textAnchor,href:`${a}#${n}`}),children:i}}});r.textPath={path:t,undo:e}}else r.attr({dx:0,dy:0}),delete r.textPath;return this.added&&(r.textCache="",this.renderer.buildText(r)),this}function O(t){let e=t.bBox,a=this.element?.querySelector("textPath");if(a){let t=[],{b:r,h:n}=this.renderer.fontMetrics(this.element),s=n-r,o=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),i=a.innerHTML.replace(o,"").split(/<tspan class="highcharts-br"[^>]*>/),d=i.length,h=(t,e)=>{let{x:n,y:o}=e,i=(a.getRotationOfChar(t)-90)*M,d=Math.cos(i),h=Math.sin(i);return[[n-s*d,o-s*h],[n+r*d,o+r*h]]};for(let e=0,r=0;r<d;r++){let n=i[r].length;for(let s=0;s<n;s+=5)try{let n=e+s+r,[o,i]=h(n,a.getStartPositionOfChar(n));0===s?(t.push(i),t.push(o)):(0===r&&t.unshift(i),r===d-1&&t.push(o))}catch{break}e+=n-1;try{let n=e+r,s=a.getEndPositionOfChar(n),[o,i]=h(n,s);t.unshift(i),t.unshift(o)}catch{break}}t.length&&t.push(t[0].slice()),e.polygon=t}return e}function S(t){let e=t.labelOptions,a=t.point,r=e[a.formatPrefix+"TextPath"]||e.textPath;r&&!e.useHTML&&(this.setTextPath(a.getDataLabelPath?.(this)||a.graphic,r),a.dataLabelPath&&!r.enabled&&(a.dataLabelPath=a.dataLabelPath.destroy()))}let{animObject:w}=h(),{deg2rad:N}=h(),{pie:j,sankey:F}=p().seriesTypes,{extend:_,merge:H,relativeLength:W}=h();!function(t){L(t,"afterGetBBox",O),L(t,"beforeAddingDataLabel",S);let e=t.prototype;e.setTextPath||(e.setTextPath=C)}(P());class Y extends F{animate(t){if(!t){let t=w(this.options.animation).duration/2/this.nodes.length,e=0;for(let a of this.nodes){let r=a.graphic;r&&(r.attr({opacity:0}),setTimeout(()=>{a.graphic&&a.graphic.animate({opacity:1},{duration:t})},t*e++))}for(let t of this.points){let e=t.graphic;!t.isNode&&e&&e.attr({opacity:0}).animate({opacity:1},this.options.animation)}}}createNode(t){let e=super.createNode(t);return e.getSum=()=>e.linksFrom.concat(e.linksTo).reduce((t,e)=>t+e.weight,0),e.offset=t=>{let a,r=t=>t.fromNode===e?t.toNode:t.fromNode,n=0,s=e.linksFrom.concat(e.linksTo);s.sort((t,e)=>r(t).index-r(e).index);for(let t=0;t<s.length;t++)if(r(s[t]).index>e.index){s=s.slice(0,t).reverse().concat(s.slice(t).reverse()),a=!0;break}a||s.reverse();for(let e=0;e<s.length;e++){if(s[e]===t)return n;n+=s[e].weight}},e}createNodeColumns(){let t=[b.compose([],this)];for(let e of this.nodes)e.column=0,t[0].push(e);return t}getNodePadding(){return this.options.nodePadding/Math.PI}translate(){let t=this.options,e=2*Math.PI/(this.chart.plotHeight+this.getNodePadding()),a=this.getCenter(),r=(t.startAngle-90)*N,n=t.borderRadius,s="object"==typeof n?n.radius:n;for(let n of(super.translate(),this.nodeColumns[0]))if(n.sum){let o=n.shapeArgs,i=a[0],d=a[1],h=a[2]/2,l=h-W(("auto"===t.nodeWidth?20:t.nodeWidth)||0,h),p=r+e*(o.y||0),c=r+e*((o.y||0)+(o.height||0));for(let a of(n.angle=p+(c-p)/2,n.shapeType="arc",n.shapeArgs={x:i,y:d,r:h,innerR:l,start:p,end:c,borderRadius:s},n.dlBox={x:i+Math.cos((p+c)/2)*(h+l)/2,y:d+Math.sin((p+c)/2)*(h+l)/2,width:1,height:1},n.linksFrom))if(a.linkBase){let n,s,o=a.linkBase.map((o,h)=>{let p=e*o,c=Math.cos(r+p)*(l+1),u=Math.sin(r+p)*(l+1);return n=t.curveFactor||0,(s=Math.abs(a.linkBase[3-h]*e-p))>Math.PI&&(s=2*Math.PI-s),(s*=l)<l&&(n*=s/l),{x:i+c,y:d+u,cpX:i+(1-n)*c,cpY:d+(1-n)*u}});a.shapeArgs={d:[["M",o[0].x,o[0].y],["A",l,l,0,0,1,o[1].x,o[1].y],["C",o[1].cpX,o[1].cpY,o[2].cpX,o[2].cpY,o[2].x,o[2].y],["A",l,l,0,0,1,o[3].x,o[3].y],["C",o[3].cpX,o[3].cpY,o[0].cpX,o[0].cpY,o[0].x,o[0].y]]}}}}}Y.defaultOptions=H(F.defaultOptions,{center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}}),_(Y.prototype,{orderNodes:!1,getCenter:j.prototype.getCenter}),Y.prototype.pointClass=class extends c{getDataLabelPath(t){let e=this,a=e.series.chart.renderer,r=e.shapeArgs,n=e.angle<0||e.angle>Math.PI,s=r.start||0,o=r.end||0;return e.dataLabelPath?(e.dataLabelPath=e.dataLabelPath.destroy(),delete e.dataLabelPath):f(t,"destroy",function(t){return e.dataLabelPath&&(e.dataLabelPath=e.dataLabelPath.destroy()),t.call(this)}),e.dataLabelPath=a.arc({open:!0,longArc:Math.abs(Math.abs(s)-Math.abs(o))<Math.PI?0:1}).attr({x:r.x,y:r.y,r:(r.r||0)+u(t.options?.distance||0),start:n?s:o,end:n?o:s,clockwise:+n}).add(a.defs),e.dataLabelPath}isValid(){return!0}},p().registerSeriesType("dependencywheel",Y);let B=h();return i.default})())(n._Highcharts,n._Highcharts.SeriesRegistry,n._Highcharts.SVGElement)),o=e({__proto__:null,default:t(s)},[s]);export{o as d};
//# sourceMappingURL=dependency-wheel-DelQhIt0.js.map
